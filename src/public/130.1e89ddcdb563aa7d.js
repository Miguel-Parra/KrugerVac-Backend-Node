"use strict";(self.webpackChunkKrugerVacFrontend=self.webpackChunkKrugerVacFrontend||[]).push([[130],{130:(F,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>C});var u=a(9808),m=a(3455),e=a(2382),g=a(5226),c=a.n(g),o=a(7587),p=a(6518);function f(r,l){if(1&r&&(o.TgZ(0,"option",18),o._uU(1),o.qZA()),2&r){const t=l.$implicit;o.Q6J("value",t.id_rol),o.xp6(1),o.hij(" ",t.nombre_rol," ")}}function v(r,l){1&r&&(o.TgZ(0,"span",19),o._uU(1," Campo Obligatorio "),o.qZA())}function h(r,l){1&r&&(o.TgZ(0,"span",19),o._uU(1," Campo Obligatorio "),o.qZA())}const Z=[{path:"login",component:(()=>{class r{constructor(t,n,i){this._formBuilder=t,this._router=n,this._authService=i,this.roles=[{id_rol:1,nombre_rol:"Administrador"},{id_rol:2,nombre_rol:"Empleado"}],this.miFormLogin=this._formBuilder.group({usuario:["",[e.kI.required]],password:["",[e.kI.required]],rol:[this.roles[1].id_rol,[e.kI.required]]})}login(){if(this.miFormLogin.invalid)return void this.miFormLogin.markAllAsTouched();const{usuario:t,password:n,rol:i}=this.miFormLogin.value;this._authService.loginService(t,n,i).subscribe({next:s=>{!0===s?1===Number(i)?this._router.navigateByUrl("/administrador"):2==Number(i)&&this._router.navigateByUrl("/empleado"):c().fire("Error",s,"error")}})}validarCampo(t){var n,i;return(null===(n=this.miFormLogin.get(t))||void 0===n?void 0:n.invalid)&&(null===(i=this.miFormLogin.controls[t])||void 0===i?void 0:i.touched)}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(e.qu),o.Y36(m.F0),o.Y36(p.e))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-login"]],decls:31,vars:5,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-xl-4","col-lg-3","col-md-2"],[1,"col-xl-4","col-lg-6","col-md-8"],[1,"card"],[1,"text-center","mt-4"],[1,"row","text-center"],[1,"col"],["src","assets/imagenes/user.png","alt","imagen",1,"card-img-top",2,"width","200px"],[1,"card-body"],[3,"formGroup","keydown.enter","submit"],["formControlName","rol",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Ingrese su usuario","formControlName","usuario",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","password","placeholder","Ingrese su contrase\xf1a","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-outline-success","float-end","mt-2","mb-2",3,"disabled"],[1,"col-xl-3"],[3,"value"],[1,"form-text","text-danger"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"div",2),o.TgZ(3,"div",3)(4,"div",4)(5,"h3",5),o._uU(6,"Login"),o.qZA(),o._UZ(7,"hr"),o.TgZ(8,"div",6)(9,"div",7),o._UZ(10,"img",8),o.qZA()(),o.TgZ(11,"div",9)(12,"form",10),o.NdJ("keydown.enter",function(s){return s.preventDefault()})("submit",function(){return n.login()}),o.TgZ(13,"div",7)(14,"label"),o._uU(15,"Modo:"),o.qZA(),o.TgZ(16,"select",11),o.YNc(17,f,2,2,"option",12),o.qZA()(),o.TgZ(18,"div",7)(19,"label"),o._uU(20,"Usuario:"),o.qZA(),o._UZ(21,"input",13),o.YNc(22,v,2,0,"span",14),o.qZA(),o.TgZ(23,"div",7)(24,"label"),o._uU(25,"Contrase\xf1a:"),o.qZA(),o._UZ(26,"input",15),o.YNc(27,h,2,0,"span",14),o.qZA(),o.TgZ(28,"button",16),o._uU(29,"Ingresar"),o.qZA()()()()(),o._UZ(30,"div",17),o.qZA()()),2&t&&(o.xp6(12),o.Q6J("formGroup",n.miFormLogin),o.xp6(5),o.Q6J("ngForOf",n.roles),o.xp6(5),o.Q6J("ngIf",n.validarCampo("usuario")),o.xp6(5),o.Q6J("ngIf",n.validarCampo("password")),o.xp6(1),o.Q6J("disabled",n.miFormLogin.pending))},directives:[e._Y,e.JL,e.sg,e.EJ,e.JJ,e.u,u.sg,e.YN,e.Kr,e.Fj,u.O5],encapsulation:2}),r})()},{path:"**",redirectTo:"login"}];let A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[m.Bz.forChild(Z)],m.Bz]}),r})(),C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[u.ez,A,e.UX]]}),r})()}}]);